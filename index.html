<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fissler PiÅŸirme Rehberi</title>
    
    <!-- Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts --><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        h1, h2, h3 {
            font-family: 'Poppins', sans-serif;
        }
        /* Ã–zelleÅŸtirilmiÅŸ Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
        
        /* Animasyonlar */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .slide-down {
            animation: slideDown 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2364748b' stroke-width='2'%3e%3cpath stroke-linecap='round' stroke-linejoin='round' d='M19 9l-7 7-7-7'%3e%3c/path%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1em;
        }

        /* BakÄ±m modalÄ± iÃ§in kaydÄ±rma Ã§ubuÄŸu */
        #bakimModalContent::-webkit-scrollbar-track {
            background: #e5e7eb; /* bg-gray-200 */
        }
        #bakimModalContent::-webkit-scrollbar-thumb {
            background: #94a3b8; /* slate-400 */
        }
        #bakimModalContent::-webkit-scrollbar-thumb:hover {
            background: #64748b; /* slate-500 */
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800 min-h-screen flex items-center justify-center p-4">

    <div class="max-w-lg w-full bg-white rounded-3xl shadow-2xl overflow-hidden border border-slate-200">
        
        <!-- HEADER --><div class="bg-gradient-to-r from-blue-900 to-blue-700 p-8 text-center relative overflow-hidden">
            <div class="absolute top-0 left-0 w-24 h-24 bg-white opacity-5 rounded-full -translate-x-10 -translate-y-10"></div>
            <div class="absolute bottom-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full translate-x-10 -translate-y-10"></div>
            
            <div class="relative z-10">
                <div class="w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto mb-4 shadow-inner border border-white/30">
                    <i class="fa-solid fa-kitchen-set text-3xl text-white"></i>
                </div>
                <h1 class="text-3xl font-bold text-white tracking-tight">Fissler Åefi</h1>
                <p class="text-blue-100 text-sm mt-2 font-light">MÃ¼kemmel piÅŸirme asistanÄ±nÄ±z</p>
            </div>

            <!-- YENÄ° BAKIM BUTONU -->
            <button id="bakimBtn" class="absolute top-4 right-4 text-white/50 hover:text-white/90 transition-colors p-2 rounded-full" title="BakÄ±m TalimatlarÄ±">
                <i class="fa-solid fa-wrench text-xl"></i>
            </button>
        </div>

        <div class="p-8 space-y-6">
            
            <!-- SEÃ‡Ä°M ALANI --><div class="space-y-5">
                <!-- 1. PiÅŸirme Tipi --><div class="relative group">
                    <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 ml-1">
                        <i class="fa-solid fa-fire-burner mr-1 text-orange-500"></i> PiÅŸirme YÃ¶ntemi
                    </label>
                    <div class="relative">
                        <select id="pisirmeTipiSelect" class="w-full bg-slate-50 border border-slate-200 text-slate-700 py-3.5 pl-4 pr-10 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all font-medium cursor-pointer hover:bg-slate-100">
                            <option value="">YÃ¶ntem SeÃ§iniz...</option>
                            <option value="buharli">â™¨ï¸ BuharlÄ± (Sepetle)</option>
                            <option value="sulu">ğŸ² Sulu / HaÅŸlama</option>
                        </select>
                    </div>
                </div>

                <!-- 2. Kategori --><div class="relative group">
                    <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 ml-1">
                        <i class="fa-solid fa-layer-group mr-1 text-blue-500"></i> Kategori
                    </label>
                    <select id="kategoriSelect" disabled class="w-full bg-slate-50 border border-slate-200 text-slate-700 py-3.5 pl-4 pr-10 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium">
                        <option value="">Ã–nce YÃ¶ntem SeÃ§iniz...</option>
                    </select>
                </div>

                <!-- 3. ÃœrÃ¼n --><div class="relative group">
                    <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 ml-1">
                        <i class="fa-solid fa-carrot mr-1 text-green-500"></i> ÃœrÃ¼n
                    </label>
                    <select id="urunSelect" disabled class="w-full bg-slate-50 border border-slate-200 text-slate-700 py-3.5 pl-4 pr-10 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium">
                        <option value="">Ã–nce Kategori SeÃ§iniz...</option>
                    </select>
                </div>

                <!-- 4. HazÄ±rlÄ±k --><div class="relative group">
                    <label class="block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 ml-1">
                        <i class="fa-solid fa-list-check mr-1 text-purple-500"></i> HazÄ±rlÄ±k DetayÄ±
                    </label>
                    <select id="hazirlikSelect" disabled class="w-full bg-slate-50 border border-slate-200 text-slate-700 py-3.5 pl-4 pr-10 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium">
                        <option value="">Ã–nce ÃœrÃ¼n SeÃ§iniz...</option>
                    </select>
                </div>
            </div>

            <!-- SONUÃ‡ ALANI (Kartlar) --><div id="sonucAlani" class="hidden fade-in pt-4 border-t border-slate-100 mt-6">
                
                <div class="text-center mb-6">
                    <h2 class="text-lg font-bold text-slate-800" id="sonucSecimBaslik">--</h2>
                    <div class="h-1 w-16 bg-orange-500 mx-auto rounded-full mt-2"></div>
                </div>

                <!-- Bilgi KartlarÄ± Grid --><div class="grid grid-cols-2 gap-4 mb-6">
                    <!-- BasÄ±nÃ§ KartÄ± --><div class="bg-blue-50 p-4 rounded-2xl border border-blue-100 flex flex-col items-center justify-center text-center">
                        <div class="w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mb-2">
                            <i class="fa-solid fa-gauge-high text-lg"></i>
                        </div>
                        <span class="text-xs font-bold text-blue-400 uppercase tracking-wider">BasÄ±nÃ§</span>
                        <span id="sonucAyar" class="font-bold text-slate-700 text-sm mt-1">--</span>
                    </div>
                    <!-- SÃ¼re KartÄ± --><div class="bg-orange-50 p-4 rounded-2xl border border-orange-100 flex flex-col items-center justify-center text-center">
                        <div class="w-10 h-10 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center mb-2">
                            <i class="fa-regular fa-clock text-lg"></i>
                        </div>
                        <span class="text-xs font-bold text-orange-400 uppercase tracking-wider">SÃ¼re</span>
                        <span id="sonucSure" class="font-bold text-slate-700 text-lg mt-1">--</span>
                    </div>
                </div>

                <!-- Tarif KartÄ± --><div class="bg-white border-l-4 border-blue-600 shadow-sm rounded-r-xl p-5 mb-6 relative overflow-hidden">
                    <div class="absolute top-0 right-0 -mt-2 -mr-2 w-16 h-16 bg-blue-50 rounded-full opacity-50"></div>
                    <h3 class="font-bold text-blue-900 flex items-center mb-2">
                        <i class="fa-solid fa-book-open mr-2"></i> HazÄ±rlanÄ±ÅŸÄ±
                    </h3>
                    <p id="sonucTarif" class="text-sm text-slate-600 leading-relaxed"></p>
                </div>

                <!-- Ä°pucu --><div class="flex items-start space-x-3 bg-yellow-50 p-4 rounded-xl border border-yellow-100 mb-6">
                    <i class="fa-regular fa-lightbulb text-yellow-500 mt-1 flex-shrink-0"></i>
                    <p id="sonucIpucu" class="text-sm text-slate-600 italic"></p>
                </div>

                <!-- SayaÃ§ AlanÄ± --><div class="bg-slate-900 rounded-2xl p-6 text-center shadow-lg relative overflow-hidden min-h-[200px] flex flex-col justify-center">
                    <!-- Background Glow --><div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-blue-500 rounded-full filter blur-3xl opacity-20"></div>
                    
                    <!-- SayaÃ§ GÃ¶stergesi (DeÄŸiÅŸken Ä°Ã§erik) -->
                    <div id="timerDisplay" class="text-5xl font-mono font-bold text-white relative z-10 tracking-wider mb-6 tabular-nums transition-all duration-300">00:00</div>
                    
                    <!-- Butonlar -->
                    <div class="relative z-10">
                        <button id="startTimerBtn" class="w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold py-3 px-6 rounded-xl shadow-lg hover:shadow-green-500/30 transition-all transform hover:scale-[1.02] active:scale-95 flex items-center justify-center">
                            <i class="fa-solid fa-play mr-2"></i> ZamanlayÄ±cÄ±yÄ± BaÅŸlat
                        </button>
                        
                        <button id="stopTimerBtn" class="hidden w-full bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white font-bold py-3 px-6 rounded-xl shadow-lg hover:shadow-red-500/30 transition-all transform hover:scale-[1.02] active:scale-95 flex items-center justify-center">
                            <i class="fa-solid fa-rotate-left mr-2"></i> SÄ±fÄ±rla
                        </button>
                    </div>
                </div>

            </div>
        </div>
        
        <!-- Footer --><div class="bg-slate-50 p-4 text-center border-t border-slate-200">
            <p class="text-xs text-slate-400">Â© 2025 Fissler AsistanÄ± - GÃ¼venli PiÅŸirme</p>
        </div>
    </div>

    <!-- PÄ°ÅÄ°RME KONTROL MODALI --><div id="modalOverlay" class="fixed inset-0 z-50 hidden bg-slate-900/70 backdrop-blur-sm flex items-center justify-center p-4 fade-in">
        <div class="bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 text-center slide-down border-t-4 border-orange-500">
            <div class="w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4 text-orange-500">
                <i class="fa-solid fa-triangle-exclamation text-3xl"></i>
            </div>
            <h3 class="text-xl font-bold text-slate-800 mb-2">Kontrol ZamanÄ±</h3>
            <p id="modalQuestion" class="text-slate-600 mb-6 leading-relaxed">BasÄ±nÃ§ gÃ¶stergesi yÃ¼kseldi mi?</p>
            
            <div class="flex space-x-3">
                <button id="modalHayirBtn" class="flex-1 bg-slate-100 hover:bg-slate-200 text-slate-600 font-semibold py-3 px-4 rounded-xl transition-colors">
                    HayÄ±r, Bekle
                </button>
                <button id="modalEvetBtn" class="flex-1 bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3 px-4 rounded-xl shadow-lg shadow-orange-500/30 transition-colors">
                    Evet, BaÅŸlat
                </button>
            </div>
        </div>
    </div>

    <!-- YENÄ° BAKIM MODALI --><div id="bakimModalOverlay" class="fixed inset-0 z-50 hidden bg-slate-900/70 backdrop-blur-sm flex items-center justify-center p-4 fade-in">
        <div class="bg-white rounded-2xl shadow-2xl max-w-lg w-full slide-down border-t-4 border-blue-500">
            <div class="p-6 border-b border-slate-200">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold text-slate-800 flex items-center">
                        <i class="fa-solid fa-wrench text-blue-600 mr-3"></i>
                        Fissler BakÄ±m Rehberi
                    </h3>
                    <button id="bakimModalKapatBtn" class="text-slate-400 hover:text-slate-600 transition-colors" title="Kapat">
                        <i class="fa-solid fa-times text-2xl"></i>
                    </button>
                </div>
            </div>
            
            <div id="bakimModalContent" class="p-6 space-y-5 text-sm text-slate-600 max-h-[60vh] overflow-y-auto">
                <p class="font-medium text-slate-700 text-base">Tencerenizin Ã¶mrÃ¼nÃ¼ uzatmak ve gÃ¼venle kullanmak iÃ§in bu adÄ±mlarÄ± izleyin:</p>
                
                <div class="bg-slate-50 p-4 rounded-lg border border-slate-200">
                    <h4 class="font-bold text-blue-700 mb-2 text-base">Her KullanÄ±mdan Sonra</h4>
                    <ul class="list-disc list-inside space-y-2 pl-2">
                        <li><strong>Tencere ve Kapak:</strong> IlÄ±dÄ±ktan sonra elde veya bulaÅŸÄ±k makinesinde yÄ±kayabilirsiniz (sapÄ± ve contayÄ± Ã§Ä±kardÄ±ktan sonra).</li>
                        <li><strong><span class="text-red-600 font-bold">Conta (Lastik):</span></strong> Asla makineye atmayÄ±n! Elde yÄ±kayÄ±n, kurulayÄ±n ve kapaÄŸa takmadan, ters Ã§evrilmiÅŸ kapaÄŸÄ±n Ã¼zerine serbestÃ§e koyarak saklayÄ±n. Bu, contanÄ±n Ã¶mrÃ¼nÃ¼ uzatÄ±r.</li>
                        <li><strong>Kapak SapÄ± (Valf BÃ¶lÃ¼mÃ¼):</strong> Ã‡oÄŸu modelde (Vitavit vb.) sap Ã§Ä±karÄ±labilir. Ã‡Ä±karÄ±p elde yÄ±kayÄ±n ve valf yuvasÄ±nÄ±n temiz olduÄŸundan emin olun.</li>
                    </ul>
                </div>

                <div class="bg-slate-50 p-4 rounded-lg border border-slate-200">
                    <h4 class="font-bold text-blue-700 mb-2 text-base">Periyodik Kontroller</h4>
                    <ul class="list-disc list-inside space-y-2 pl-2">
                        <li><strong>Emniyet Valfi (GÃ¼venlik Penceresi):</strong> KapaÄŸÄ± Ä±ÅŸÄ±ÄŸa tutarak iÃ§inden Ä±ÅŸÄ±ÄŸÄ±n geÃ§tiÄŸini (tÄ±kalÄ± olmadÄ±ÄŸÄ±nÄ±) kontrol edin. TÄ±kanmÄ±ÅŸsa kÃ¼rdan veya iÄŸne ile nazikÃ§e aÃ§Ä±n.</li>
                        <li><strong>Conta Durumu:</strong> Contada Ã§atlak, sertleÅŸme veya renk deÄŸiÅŸimi varsa yenisiyle deÄŸiÅŸtirin (Genellikle 1-2 yÄ±lda bir).</li>
                        <li><strong>PiÅŸirme Valfi:</strong> PiÅŸirme ayar dÃ¼ÄŸmesini (valfi) Ã§Ä±karÄ±p iÃ§ mekanizmasÄ±nÄ±n temiz ve hareketli olduÄŸunu kontrol edin.</li>
                    </ul>
                </div>

                <div class="bg-red-50 p-4 rounded-lg border border-red-200">
                    <h4 class="font-bold text-red-700 mb-2 text-base">Ã–nemli UyarÄ±lar</h4>
                    <ul class="list-disc list-inside space-y-2 pl-2">
                        <li>Tencereyi asla aÅŸÄ±ndÄ±rÄ±cÄ± (cif, tel fÄ±rÃ§a) ile temizlemeyin. Limon ve sirke ile parlatabilirsiniz.</li>
                        <li>Tencereyi yaÄŸ/yemekle birlikte uzun sÃ¼re bekletmeyin, leke yapabilir.</li>
                        <li>KapaÄŸÄ± asla zorlayarak aÃ§mayÄ±n veya kapatmayÄ±n. BasÄ±nÃ§ tamamen boÅŸalmadan aÃ§Ä±lmayacaktÄ±r.</li>
                        <li>Tencereyi asla kapasitesinin 2/3'Ã¼nden fazla doldurmayÄ±n (Ã¶zellikle bakliyat gibi kÃ¶pÃ¼ren yiyeceklerde 1/2'yi geÃ§meyin).</li>
                    </ul>
                </div>
            </div>
            <div class="p-4 bg-slate-50 border-t border-slate-200 text-right">
                 <button id="bakimModalKapatBtn2" class="bg-slate-200 hover:bg-slate-300 text-slate-700 font-semibold py-2 px-4 rounded-lg transition-colors">
                    AnladÄ±m
                </button>
            </div>
        </div>
    </div>


    <!-- JAVASCRIPT MANTIÄI (TAMAMI BURADA) --><script>
        document.addEventListener("DOMContentLoaded", function() {
            // Global AudioContext deÄŸiÅŸkeni
            let audioCtx;

            const kategoriIsimleri = {
                sebze: "Sebzeler",
                et: "Etler",
                bakliyat: "Bakliyatlar",
                deniz: "Deniz ÃœrÃ¼nleri",
                tahil: "TahÄ±llar / Pilavlar",
                corba: "Ã‡orbalar", 
                diger: "DiÄŸer (Kemik Suyu vb.)"
            };

            const pisirmeVerisi = {
                buharli: {
                    sebze: {
                        "Patates": {
                            butun: { isim: "BÃ¼tÃ¼n (Orta)", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "8-10 Dakika", ipucu: "Salata iÃ§in ideal.", tarif: "Tencerenin dibine 1.5 su bardaÄŸÄ± su koyun. Tripodu (ayak) yerleÅŸtirin. BÃ¼tÃ¼n patatesleri delikli buhar sepetine koyup tripoda oturtun. KapaÄŸÄ± kapatÄ±n." },
                            iri: { isim: "Ä°ri DoÄŸranmÄ±ÅŸ", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "5-6 Dakika", ipucu: "Ã‡atal girecek kÄ±vama gelir.", tarif: "Tencereye 1.5 bardak su ve tripodu ekleyin. DoÄŸranmÄ±ÅŸ patatesleri delikli sepete koyup yerleÅŸtirin. KapaÄŸÄ± kilitleyin." },
                            kup: { isim: "KÃ¼p KÃ¼p", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "3-4 Dakika", ipucu: "Ã‡ok hÄ±zlÄ± piÅŸer.", tarif: "Tencereye min. su (1.5 bardak) koyun. KÃ¼p patatesleri delikli sepette buharda piÅŸirin." }
                        },
                        "HavuÃ§": {
                            butun: { isim: "BÃ¼tÃ¼n (Ä°nce)", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "5-6 Dakika", ipucu: "KalÄ±nsa sÃ¼reyi artÄ±rÄ±n.", tarif: "Tencereye suyu ve tripodu koyun. HavuÃ§larÄ± delikli sepete dizin. KapaÄŸÄ± kapatÄ±n." },
                            iri: { isim: "Ä°ri DoÄŸranmÄ±ÅŸ", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "3-4 Dakika", ipucu: "Buhar sepeti kullanÄ±n.", tarif: "Tencereye su ve tripod ekleyin. HavuÃ§larÄ± delikli sepete koyup tripoda yerleÅŸtirin." },
                            kup: { isim: "KÃ¼p KÃ¼p", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "2-3 Dakika", ipucu: "Buhar sepeti kullanÄ±n.", tarif: "Tencereye suyu koyun. Sepet iÃ§indeki havuÃ§larÄ± yerleÅŸtirin. Ã‡ok kÄ±sa sÃ¼rede piÅŸecektir." }
                        },
                        "Kereviz (KÃ¶k)": {
                            iri: { isim: "Ä°ri DoÄŸranmÄ±ÅŸ", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "4-5 Dakika", ipucu: "KararmamasÄ± iÃ§in limon sÄ±kÄ±n.", tarif: "Limonlu suda bekleyen kerevizleri sÃ¼zÃ¼p delikli sepete alÄ±n. Tencereye su ve tripodu koyup sepeti yerleÅŸtirin." },
                            kup: { isim: "KÃ¼p KÃ¼p", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "2-3 Dakika", ipucu: "Ã‡ok Ã§abuk piÅŸer.", tarif: "Tencereye suyu koyun. KÃ¼p doÄŸranmÄ±ÅŸ kerevizleri delikli sepete alÄ±p buharda piÅŸirin." }
                        },
                        "Pancar": {
                            butun: { isim: "BÃ¼tÃ¼n (Orta)", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "20-25 Dakika", ipucu: "KabuÄŸunu soymadan piÅŸirin.", tarif: "PancarlarÄ± iyice yÄ±kayÄ±n (soymayÄ±n). Tencereye su ve tripod koyun. PancarlarÄ± sepete koyup buharda piÅŸirin. Sonra kabuÄŸu kolayca soyulur." },
                            kup: { isim: "KÃ¼p KÃ¼p", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "6-8 Dakika", ipucu: "Rengi suya geÃ§mez.", tarif: "DoÄŸranmÄ±ÅŸ pancarlarÄ± delikli sepete koyun. Tencereye su ekleyip sepeti yerleÅŸtirin." }
                        },
                        "Brokoli": {
                            cicek: { isim: "Ã‡iÃ§ek (ParÃ§a)", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "1-2 Dakika", ipucu: "DÃ¼dÃ¼k Ã§Ä±kar Ã§Ä±kmaz kapatÄ±n.", tarif: "Tencereye su koyun. Brokolileri delikli sepete alÄ±n. BasÄ±nÃ§ oluÅŸur oluÅŸmaz altÄ±nÄ± kapatÄ±n, kendi Ä±sÄ±sÄ±yla piÅŸer." }
                        },
                        "Karnabahar": {
                            cicek: { isim: "Ã‡iÃ§ek (ParÃ§a)", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "2-3 Dakika", ipucu: "Kokusu iÃ§in suya sirke damlatÄ±n.", tarif: "Tencereye su koyun. KarnabaharlarÄ± delikli sepete koyup buharda 2-3 dakika piÅŸirin." }
                        },
                        "Enginar": {
                            kalp: { isim: "Kalp", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "4-5 Dakika", ipucu: "KararmamasÄ± iÃ§in limonlayÄ±n.", tarif: "Tencereye su ve tripod koyun. EnginarlarÄ± delikli sepete dizin. KapaÄŸÄ± kapatÄ±n." }
                        },
                        "Taze Fasulye": {
                            normal: { isim: "BÃ¼tÃ¼n / ParÃ§a", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "5-7 Dakika", ipucu: "CanlÄ± yeÅŸil renk kalÄ±r.", tarif: "Fasulyeleri delikli sepete koyun. Tencereye su ekleyip sepeti yerleÅŸtirin." }
                        },
                        "BrÃ¼ksel LahanasÄ±": {
                            butun: { isim: "BÃ¼tÃ¼n", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "3-4 Dakika", ipucu: "DÄ±ÅŸ yapraklarÄ±nÄ± temizleyin.", tarif: "Tencereye su koyun. LahanalarÄ± delikli sepete alÄ±p buharda piÅŸirin." }
                        }
                    },
                    deniz: {
                        "BalÄ±k Fileto": {
                            fileto: { isim: "BalÄ±k Fileto", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "3-4 Dakika", ipucu: "YapÄ±ÅŸmamasÄ± iÃ§in yaÄŸlÄ± kaÄŸÄ±t serin.", tarif: "Delikli sepetin tabanÄ±na yaÄŸlÄ± kaÄŸÄ±t serin. BalÄ±klarÄ± Ã¼zerine dizin. Tencereye su koyup sepeti yerleÅŸtirin." }
                        },
                        "Karides": {
                            jumbo: { isim: "Jumbo Karides", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "1-2 Dakika", ipucu: "Rengi dÃ¶nÃ¼nce piÅŸmiÅŸtir.", tarif: "Tencereye su (aroma iÃ§in defne yapraÄŸÄ± atabilirsiniz) koyun. Karidesleri delikli sepette buhara koyun." }
                        }
                    },
                    et: {
                        "Tavuk GÃ¶ÄŸsÃ¼": {
                            fileto: { isim: "Fileto (Diyet)", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "5-7 Dakika", ipucu: "BaharatlayÄ±p sepete koyun.", tarif: "TavuklarÄ± baharatlayÄ±n. Delikli sepete yerleÅŸtirin. Tencereye su koyup sepeti tripoda oturtun. En saÄŸlÄ±klÄ± yÃ¶ntemdir." }
                        }
                    }
                },
                sulu: {
                    bakliyat: {
                        "Nohut": {
                            islatilmis: { isim: "IslatÄ±lmÄ±ÅŸ", ayar: "2. Halka (YÃ¼ksek)", sure: "15-18 Dakika", ipucu: "Tuzunu piÅŸtikten sonra atÄ±n.", tarif: "IslatÄ±lmÄ±ÅŸ nohutlarÄ± sÃ¼zÃ¼p tencereye alÄ±n. Ãœzerini 2 parmak geÃ§ecek kadar su ekleyin. Asla Max Ã§izgisini geÃ§meyin." },
                            islatilmamis: { isim: "IslatÄ±lmamÄ±ÅŸ", ayar: "2. Halka (YÃ¼ksek)", sure: "35-40 Dakika", ipucu: "SÃ¼re uzundur, su kontrolÃ¼ yapÄ±n.", tarif: "NohutlarÄ± yÄ±kayÄ±p tencereye alÄ±n. Bol su ekleyin (nohut suyu Ã§ok Ã§eker). KapaÄŸÄ± kapatÄ±p 2. halkayÄ± bekleyin." }
                        },
                        "Kuru Fasulye": {
                            islatilmis: { isim: "IslatÄ±lmÄ±ÅŸ", ayar: "2. Halka (YÃ¼ksek)", sure: "15-20 Dakika", ipucu: "KÃ¶pÃ¼klenmeyi Ã¶nler.", tarif: "Fasulyeleri ve suyu tencereye koyun. Tencerenin yarÄ±sÄ±ndan fazlasÄ±nÄ± doldurmamaya dikkat edin. KapaÄŸÄ± kapatÄ±n." },
                            islatilmamis: { isim: "IslatÄ±lmamÄ±ÅŸ", ayar: "2. Halka (YÃ¼ksek)", sure: "35-40 Dakika", ipucu: "Suyu bol olsun, kÃ¶pÃ¼rmeye dikkat.", tarif: "Fasulyeleri yÄ±kayÄ±p tencereye alÄ±n. Ãœzerini bolca geÃ§ecek su ekleyin. KapaÄŸÄ± kapatÄ±n." }
                        },
                        "YeÅŸil Mercimek": {
                            yemeklik: { isim: "Yemeklik", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "4-5 Dakika", ipucu: "Kabuk atabilir, dÃ¼ÅŸÃ¼k basÄ±nÃ§ Ã¶nerilir.", tarif: "Mercimekleri yÄ±kayÄ±p tencereye koyun. Suyu ekleyin. Kabuk atmamasÄ± iÃ§in 1. halkada (dÃ¼ÅŸÃ¼k basÄ±nÃ§) piÅŸirilmesi Ã¶nerilir." }
                        },
                        "Barbunya": {
                            islatilmis: { isim: "IslatÄ±lmÄ±ÅŸ", ayar: "2. Halka (YÃ¼ksek)", sure: "15-20 Dakika", ipucu: "ZeytinyaÄŸlÄ± iÃ§in ideal.", tarif: "BarbunyalarÄ± tencereye alÄ±n. Su, ÅŸeker, tuz ve zeytinyaÄŸÄ±nÄ± ekleyin. KapaÄŸÄ± kapatÄ±n."},
                            islatilmamis: { isim: "IslatÄ±lmamÄ±ÅŸ", ayar: "2. Halka (YÃ¼ksek)", sure: "30-35 Dakika", ipucu: "Rengi biraz koyulaÅŸabilir.", tarif: "YÄ±kanmÄ±ÅŸ barbunyalarÄ± tencereye alÄ±n. Bol su ekleyip piÅŸirin."}
                        }
                    },
                    et: {
                        "Dana Kavurma": {
                            kavurma: { isim: "Kendi YaÄŸÄ±nda", ayar: "2. Halka (YÃ¼ksek)", sure: "25-30 Dakika", ipucu: "Tuzunu en son atÄ±n sertleÅŸmesin.", tarif: "Ä°Ã§ yaÄŸÄ±nÄ± eritip etleri ekleyin ve rengi dÃ¶nene kadar mÃ¼hÃ¼rleyin. Sadece yarÄ±m Ã§ay bardaÄŸÄ± sÄ±cak su ekleyin. KapaÄŸÄ± kapatÄ±p piÅŸirin. SÃ¼re bitince kapaÄŸÄ± aÃ§Ä±n, suyu kaldÄ±ysa Ã§ekene kadar aÃ§Ä±k ateÅŸte kavurun." },
                            zeytinyagli: { isim: "ZeytinyaÄŸlÄ±", ayar: "2. Halka (YÃ¼ksek)", sure: "25-30 Dakika", ipucu: "Daha hafif ve yumuÅŸak olur.", tarif: "Tencereye zeytinyaÄŸÄ±nÄ± ekleyip Ä±sÄ±tÄ±n. Etleri ekleyip yÃ¼ksek ateÅŸte mÃ¼hÃ¼rleyin. Sadece yarÄ±m Ã§ay bardaÄŸÄ± sÄ±cak su ekleyin. KapaÄŸÄ± kapatÄ±p piÅŸirin. SonrasÄ±nda kapaÄŸÄ± aÃ§Ä±p suyu kalmÄ±ÅŸsa Ã§ektirin." }
                        },
                        "Dana KuÅŸbaÅŸÄ±": {
                            haslama: { isim: "HaÅŸlama / Yemeklik", ayar: "2. Halka (YÃ¼ksek)", sure: "15-20 Dakika", ipucu: "Kefini alÄ±rsanÄ±z berrak olur.", tarif: "Etleri tencereye alÄ±n. Ãœzerine su ekleyin. KapaÄŸÄ± aÃ§Ä±kken kaynatÄ±p kefini (kÃ¶pÃ¼ÄŸÃ¼nÃ¼) alÄ±n. Sonra kapaÄŸÄ± kapatÄ±p basÄ±nÃ§landÄ±rÄ±n." }
                        },
                        "Kuzu Ä°ncik": {
                            muhurlenmis: { isim: "MÃ¼hÃ¼rlenmiÅŸ", ayar: "2. Halka (YÃ¼ksek)", sure: "20-25 Dakika", ipucu: "Lezzeti iÃ§ine hapsolur.", tarif: "Tencereyi Ä±sÄ±tÄ±n, az yaÄŸda incikleri mÃ¼hÃ¼rleyin (kÄ±zartÄ±n). Ãœzerine sÄ±cak su veya et suyu ekleyin. KapaÄŸÄ± kapatÄ±n." }
                        },
                        "BÃ¼tÃ¼n Tavuk": {
                            haslama: { isim: "BÃ¼tÃ¼n (HaÅŸlama)", ayar: "2. Halka (YÃ¼ksek)", sure: "20 Dakika", ipucu: "Suyu Ã§ok lezzetli olur.", tarif: "TÃ¼m tavuÄŸu tencereye yerleÅŸtirin. YarÄ±sÄ±na kadar su doldurun. Sebzeler (soÄŸan, havuÃ§) ekleyebilirsiniz. KapaÄŸÄ± kapatÄ±n." }
                        },
                         "Tavuk But/GÃ¶ÄŸÃ¼s": {
                            parca: { isim: "ParÃ§a (Kemikli/Siz)", ayar: "2. Halka (YÃ¼ksek)", sure: "6-8 Dakika", ipucu: "HÄ±zlÄ± haÅŸlama.", tarif: "Tavuk parÃ§alarÄ±nÄ± tencereye koyun. Ãœzerini geÃ§ecek kadar su ekleyin. KapaÄŸÄ± kapatÄ±n." }
                        },
                    },
                    diger: {
                        "Kemik Suyu": {
                            ilikli: { isim: "Ä°likli Kemik", ayar: "2. Halka (YÃ¼ksek)", sure: "40-50 Dakika", ipucu: "Sirke ekleyin (ilikleri Ã§Ã¶zer).", tarif: "Kemikleri tencereye koyun. Ãœzerine su ve 1 kaÅŸÄ±k sirke ekleyin. Max Ã§izgisini geÃ§meyin. Uzun sÃ¼re piÅŸirin." }
                        }
                    },
                    sebze: {
                        "Patates": {
                            butun_haslama: { isim: "BÃ¼tÃ¼n (HaÅŸlama)", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "7-8 Dakika", ipucu: "Kabuklu haÅŸlama.", tarif: "YÄ±kanmÄ±ÅŸ patatesleri tencereye koyun. Ãœzerini geÃ§ecek kadar su ve tuz ekleyin. KapaÄŸÄ± kapatÄ±n." },
                            iri_yemeklik: { isim: "Ä°ri DoÄŸranmÄ±ÅŸ", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "4-5 Dakika", ipucu: "Sulu yemek.", tarif: "SoÄŸanlarÄ± kavurun, salÃ§a ve patatesleri ekleyin. Ãœzerini hafif geÃ§ecek kadar su koyun." },
                            kup_yemeklik: { isim: "KÃ¼p KÃ¼p", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "2-3 Dakika", ipucu: "Hemen piÅŸer.", tarif: "DiÄŸer malzemelerle birlikte tencereye koyun. Az su yeterlidir." }
                        },
                         "Kereviz (KÃ¶k)": {
                            iri_yemeklik: { isim: "Ä°ri (Z.YaÄŸlÄ±)", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "5-6 Dakika", ipucu: "Portakal suyu ekleyin.", tarif: "KavrulmuÅŸ soÄŸan/havuÃ§ Ã¼zerine kerevizleri ekleyin. Portakal suyu ve su karÄ±ÅŸÄ±mÄ±nÄ± dÃ¶kÃ¼n. KapaÄŸÄ± kapatÄ±n." },
                            kup_yemeklik: { isim: "KÃ¼p KÃ¼p", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "3-4 Dakika", ipucu: "YemeÄŸin iÃ§inde.", tarif: "YemeÄŸin suyuyla birlikte piÅŸirin." }
                        },
                        "PÄ±rasa": {
                            iri_yemeklik: { isim: "Ä°ri (Z.YaÄŸlÄ±)", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "4-5 Dakika", ipucu: "PirinÃ§ de ekleyebilirsiniz.", tarif: "HavuÃ§larÄ± kavurun, pÄ±rasalarÄ± ekleyin. Limon suyu, zeytinyaÄŸÄ± ve az su ekleyip kapaÄŸÄ± kapatÄ±n." }
                        },
                        "PatlÄ±can": {
                            butun_karniyarik: { isim: "BÃ¼tÃ¼n (KarnÄ±yarÄ±k)", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "5-7 Dakika", ipucu: "Az yaÄŸlÄ± ve hafif olur.", tarif: "PatlÄ±canlarÄ± alacalÄ± soyun. Tencereye dizin. YarÄ±m bardak su ve biraz zeytinyaÄŸÄ± gezdirin. Buharla yumuÅŸasÄ±n." },
                            iri_yemeklik: { isim: "Ä°ri (Yemeklik)", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "4-6 Dakika", ipucu: "DaÄŸÄ±lmamasÄ± iÃ§in dikkat.", tarif: "KÄ±ymalÄ± harcÄ±n Ã¼zerine patlÄ±canlarÄ± ekleyin. HiÃ§ karÄ±ÅŸtÄ±rmadan suyunu verip kapaÄŸÄ± kapatÄ±n." }
                        },
                        "Kabak": {
                            iri_yemeklik: { isim: "Ä°ri DoÄŸranmÄ±ÅŸ", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "2-3 Dakika", ipucu: "Kendi suyunu salar.", tarif: "SoÄŸan ve domatesle birlikte tencereye koyun. Ã‡ok az su (yarÄ±m bardak) ekleyin, kabak su salar." }
                        },
                        "Taze Fasulye": {
                            yemeklik: { isim: "Z.YaÄŸlÄ± / Yemeklik", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "6-8 Dakika", ipucu: "SoÄŸuturken kapaÄŸÄ± aÃ§mayÄ±n (renk iÃ§in).", tarif: "TÃ¼m malzemeleri (fasulye, soÄŸan, domates, yaÄŸ) Ã§iÄŸden tencereye koyun. YarÄ±m bardak su ekleyip karÄ±ÅŸtÄ±rÄ±n. KapaÄŸÄ± kapatÄ±n." }
                        },
                        "Enginar": {
                            yemeklik: { isim: "Yemeklik (Z.YaÄŸlÄ±)", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "5-6 Dakika", ipucu: "GarnitÃ¼rlÃ¼.", tarif: "EnginarlarÄ± tencereye dizin. Ãœzerine garnitÃ¼rleri, zeytinyaÄŸÄ±nÄ±, limon suyunu ve suyu ekleyin. KapaÄŸÄ± kapatÄ±n." }
                        }
                    },
                    tahil: {
                        "PirinÃ§": {
                            pilav: { isim: "Pilav", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "6-7 Dakika", ipucu: "BasÄ±ncÄ± hemen boÅŸaltÄ±n.", tarif: "Pirinci yaÄŸda kavurun. 1 bardak pirince 1.5 bardak sÄ±cak su ve tuz ekleyin. KapaÄŸÄ± kapatÄ±n. SÃ¼re bitince basÄ±ncÄ± hemen tahliye edin." }
                        },
                        "Bulgur": {
                            pilav: { isim: "Pilav", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "4-5 Dakika", ipucu: "Demlenmeye bÄ±rakÄ±n.", tarif: "Bulguru kavurun veya direkt suya atÄ±n. 1'e 1.5 oranÄ±nda su koyun. PiÅŸtikten sonra kapaÄŸÄ± aÃ§madan 10 dk dinlendirin." }
                        },
                        "AÅŸurelik BuÄŸday": {
                            islatilmamis: { isim: "IslatÄ±lmamÄ±ÅŸ", ayar: "2. Halka (YÃ¼ksek)", sure: "12-15 Dakika", ipucu: "Ã‡ok su Ã§eker.", tarif: "BuÄŸdayÄ± yÄ±kayÄ±p tencereye alÄ±n. Ãœzerini 4-5 parmak geÃ§ecek kadar bol su koyun. KapaÄŸÄ± kapatÄ±n." }
                        }
                    },
                    corba: {
                        "Mercimek Ã‡orbasÄ±": {
                            normal: { isim: "KÄ±rmÄ±zÄ± Mercimek", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "3-4 Dakika", ipucu: "Blenderdan geÃ§irin.", tarif: "Mercimek, soÄŸan, patates ve suyu tencereye koyun. KapaÄŸÄ± kapatÄ±n. PiÅŸince blenderdan geÃ§irin." }
                        },
                        "Ezogelin Ã‡orbasÄ±": {
                            normal: { isim: "Ezogelin", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "5-7 Dakika", ipucu: "Dibine tutabilir, iyi karÄ±ÅŸtÄ±rÄ±n.", tarif: "YaÄŸda nane ve salÃ§ayÄ± yakÄ±n. YÄ±kanmÄ±ÅŸ bakliyatlarÄ± (mercimek, bulgur, pirinÃ§) ve suyu ekleyip karÄ±ÅŸtÄ±rÄ±n. KapaÄŸÄ± kapatÄ±n." }
                        },
                        "Yayla Ã‡orbasÄ± (PirinÃ§li)": {
                            pirinc_haslama: { isim: "PirinÃ§ (Yayla)", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "6-7 Dakika", ipucu: "YoÄŸurt kesilmesin diye sonra eklenir.", tarif: "PirinÃ§leri suyla birlikte tencereye alÄ±p haÅŸlayÄ±n. Tencereyi aÃ§tÄ±ktan sonra ayrÄ± bir yerde hazÄ±rladÄ±ÄŸÄ±nÄ±z yoÄŸurtlu terbiyeyi yavaÅŸÃ§a ekleyip kaynatÄ±n." }
                        },
                        "Tavuk Ã‡orbasÄ± (Åehriyeli)": {
                            sehriyeli: { isim: "Åehriyeli (HazÄ±r Tavuk)", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "1-2 Dakika", ipucu: "Tavuk suyuyla.", tarif: "Tavuk suyunu kaynatÄ±n. DidiklenmiÅŸ tavuklarÄ± ve ÅŸehriyeyi atÄ±n. KapaÄŸÄ± kapatÄ±p dÃ¼dÃ¼k Ã¶ter Ã¶tmez altÄ±nÄ± kapatÄ±n." }
                        },
                        "Sebze Ã‡orbasÄ± (PÃ¼re)": {
                            purelik: { isim: "Sebze (PÃ¼re)", ayar: "1. Halka (DÃ¼ÅŸÃ¼k)", sure: "5-7 Dakika", ipucu: "KremalÄ±.", tarif: "Ä°ri doÄŸranmÄ±ÅŸ kabak, havuÃ§, patates ve soÄŸanÄ± tencereye alÄ±n. Ãœzerine su ekleyin. PiÅŸince blender yapÄ±p krema ekleyin." }
                        },
                        "Ä°ÅŸkembe Ã‡orbasÄ±": {
                            iskembe_haslama: { isim: "Ä°ÅŸkembe (HaÅŸlama)", ayar: "2. Halka (YÃ¼ksek)", sure: "35-45 Dakika", ipucu: "Sirkeli suda bekletin.", tarif: "GÃ¼zelce temizlenmiÅŸ iÅŸkembeyi tencereye alÄ±n. Su ekleyin. PiÅŸtikten sonra ayrÄ± bir tencerede terbiyesini yapÄ±n." }
                        },
                        "Kelle PaÃ§a Ã‡orbasÄ±": {
                            paca_haslama: { isim: "PaÃ§a (HaÅŸlama)", ayar: "2. Halka (DÃ¼ÅŸÃ¼k)", sure: "40-50 Dakika", ipucu: "SarÄ±msaklÄ± sosla.", tarif: "Etleri/kemiÄŸi tencereye alÄ±n. Bol su ekleyin. PiÅŸtikten sonra etleri didikleyin ve suyuna geri ekleyin." }
                        }
                    }
                }
            };

            // --- ELEMENT SEÃ‡Ä°MLERÄ° ---
            const pisirmeTipiSelect = document.getElementById("pisirmeTipiSelect");
            const kategoriSelect = document.getElementById("kategoriSelect");
            const urunSelect = document.getElementById("urunSelect");
            const hazirlikSelect = document.getElementById("hazirlikSelect");
            const sonucAlani = document.getElementById("sonucAlani");
            const sonucSecimBaslik = document.getElementById("sonucSecimBaslik"); 
            const sonucAyar = document.getElementById("sonucAyar");
            const sonucSure = document.getElementById("sonucSure");
            const sonucIpucu = document.getElementById("sonucIpucu");
            const sonucTarif = document.getElementById("sonucTarif"); 

            // SayaÃ§
            const timerDisplay = document.getElementById("timerDisplay");
            const startTimerBtn = document.getElementById("startTimerBtn");
            const stopTimerBtn = document.getElementById("stopTimerBtn");

            // PiÅŸirme ModalÄ±
            const modalOverlay = document.getElementById("modalOverlay");
            const modalQuestion = document.getElementById("modalQuestion");
            const modalEvetBtn = document.getElementById("modalEvetBtn");
            const modalHayirBtn = document.getElementById("modalHayirBtn");

            // --- YENÄ° BAKIM MODALI ELEMENTLERÄ° ---
            const bakimBtn = document.getElementById("bakimBtn");
            const bakimModalOverlay = document.getElementById("bakimModalOverlay");
            const bakimModalKapatBtn = document.getElementById("bakimModalKapatBtn");
            const bakimModalKapatBtn2 = document.getElementById("bakimModalKapatBtn2"); // Footer butonu

            let timerInterval = null; 
            let totalSeconds = 0;
            let currentPressureSetting = ""; 

            // --- OLAY DÄ°NLEYÄ°CÄ°LERÄ° ---

            pisirmeTipiSelect.addEventListener("change", function() {
                const secilenTip = this.value; 
                resetSelect(kategoriSelect, "Ã–nce PiÅŸirme Tipi SeÃ§in");
                resetSelect(urunSelect, "Ã–nce Kategori SeÃ§in");
                resetSelect(hazirlikSelect, "Ã–nce ÃœrÃ¼n SeÃ§in");
                sonucAlani.classList.add("hidden");
                stopTimer();

                if (secilenTip) {
                    kategoriSelect.disabled = false;
                    kategoriSelect.innerHTML = '<option value="">Kategori SeÃ§iniz...</option>';
                    const kategoriler = Object.keys(pisirmeVerisi[secilenTip]);
                    kategoriler.forEach(function(kategoriKey) {
                        const option = document.createElement("option");
                        option.value = kategoriKey; 
                        option.textContent = kategoriIsimleri[kategoriKey] || kategoriKey; 
                        kategoriSelect.appendChild(option);
                    });
                }
            });

            kategoriSelect.addEventListener("change", function() {
                const secilenTip = pisirmeTipiSelect.value;
                const secilenKategori = this.value;
                resetSelect(urunSelect, "Ã–nce Kategori SeÃ§in");
                resetSelect(hazirlikSelect, "Ã–nce ÃœrÃ¼n SeÃ§in");
                sonucAlani.classList.add("hidden");
                stopTimer();

                if (secilenKategori) {
                    urunSelect.disabled = false;
                    urunSelect.innerHTML = '<option value="">ÃœrÃ¼n SeÃ§iniz...</option>';
                    const urunler = Object.keys(pisirmeVerisi[secilenTip][secilenKategori]);
                    urunler.forEach(function(urunAdi) {
                        const option = document.createElement("option");
                        option.value = urunAdi;
                        option.textContent = urunAdi;
                        urunSelect.appendChild(option);
                    });
                }
            });

            urunSelect.addEventListener("change", function() {
                const secilenTip = pisirmeTipiSelect.value;
                const secilenKategori = kategoriSelect.value;
                const secilenUrun = this.value;
                resetSelect(hazirlikSelect, "Ã–nce ÃœrÃ¼n SeÃ§in");
                sonucAlani.classList.add("hidden");
                stopTimer();

                if (secilenUrun) {
                    hazirlikSelect.disabled = false;
                    hazirlikSelect.innerHTML = '<option value="">HazÄ±rlÄ±k DetayÄ± SeÃ§iniz...</option>';
                    const hazirlikSecenekleri = pisirmeVerisi[secilenTip][secilenKategori][secilenUrun];
                    Object.keys(hazirlikSecenekleri).forEach(function(hazirlikKey) {
                        const option = document.createElement("option");
                        option.value = hazirlikKey; 
                        option.textContent = hazirlikSecenekleri[hazirlikKey].isim; 
                        hazirlikSelect.appendChild(option);
                    });
                }
            });

            hazirlikSelect.addEventListener("change", function() {
                stopTimer(); 
                const secilenTip = pisirmeTipiSelect.value;
                const secilenKategori = kategoriSelect.value;
                const secilenUrun = urunSelect.value;
                const secilenHazirlik = this.value; 

                if (secilenHazirlik) {
                    const sonuc = pisirmeVerisi[secilenTip][secilenKategori][secilenUrun][secilenHazirlik];
                    const secilenHazirlikMetni = this.options[this.selectedIndex].text;
                    
                    sonucSecimBaslik.textContent = `${secilenUrun} - ${secilenHazirlikMetni}`;
                    sonucAyar.textContent = sonuc.ayar;
                    sonucSure.textContent = sonuc.sure;
                    sonucIpucu.textContent = sonuc.ipucu;
                    sonucTarif.textContent = sonuc.tarif;

                    totalSeconds = parseTimeToSeconds(sonuc.sure);
                    currentPressureSetting = sonuc.ayar; 
                    
                    // Timer display'i sÄ±fÄ±rla (bÃ¼yÃ¼k font)
                    timerDisplay.className = "text-5xl font-mono font-bold text-white relative z-10 tracking-wider mb-6 tabular-nums transition-all duration-300";
                    timerDisplay.innerHTML = ""; // Ã–nceki emojiyi temizle
                    timerDisplay.textContent = formatTime(totalSeconds);
                    
                    sonucAlani.classList.remove("hidden");
                    sonucAlani.scrollIntoView({ behavior: 'smooth', block: 'start' });
                } else {
                    sonucAlani.classList.add("hidden");
                }
            });

            // --- SAYAÃ‡ VE PÄ°ÅÄ°RME MODALI Ä°ÅLEMLERÄ° ---
            
            function initAudio() {
                if (!audioCtx) {
                    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                }
                if (audioCtx.state === 'suspended') {
                    audioCtx.resume();
                }
            }

            startTimerBtn.addEventListener("click", function() {
                const halkaNumarasi = currentPressureSetting.split('.')[0] || "Gerekli"; 
                modalQuestion.textContent = `Tencerenizdeki '${halkaNumarasi}. Ã§izgiyi' (basÄ±nÃ§ gÃ¶stergesini) gÃ¶rdÃ¼nÃ¼z mÃ¼?`;
                modalOverlay.classList.remove("hidden");
            });

            modalEvetBtn.addEventListener("click", function() {
                initAudio();
                modalOverlay.classList.add("hidden");
                startTimerBtn.classList.add("hidden");
                stopTimerBtn.classList.remove("hidden");
                
                if (timerInterval) clearInterval(timerInterval); 
                timerInterval = setInterval(updateTimer, 1000);
            });

            modalHayirBtn.addEventListener("click", function() {
                modalOverlay.classList.add("hidden");
            });

            stopTimerBtn.addEventListener("click", function() {
                stopTimer(); 
            });

            // --- YENÄ° BAKIM MODALI Ä°ÅLEMLERÄ° ---

            function openBakimModal() {
                bakimModalOverlay.classList.remove("hidden");
            }
            function closeBakimModal() {
                bakimModalOverlay.classList.add("hidden");
            }

            bakimBtn.addEventListener("click", openBakimModal);
            bakimModalKapatBtn.addEventListener("click", closeBakimModal);
            bakimModalKapatBtn2.addEventListener("click", closeBakimModal);

            // ModalÄ±n dÄ±ÅŸÄ±na tÄ±klayÄ±nca kapat
            bakimModalOverlay.addEventListener("click", function(e) {
                if (e.target === bakimModalOverlay) {
                    closeBakimModal();
                }
            });


            // --- SAYAÃ‡ FONKSÄ°YONLARI ---

            function updateTimer() {
                if (totalSeconds <= 0) {
                    clearInterval(timerInterval);
                    
                    timerDisplay.className = "relative z-10 transition-all duration-300 text-center mb-4 pt-2";
                    timerDisplay.innerHTML = `
                        <div class="flex flex-col items-center animate-bounce">
                            <span class="text-6xl mb-2">ğŸ²</span>
                            <span class="text-3xl font-bold text-green-400" style="font-family: 'Poppins', sans-serif;">AFÄ°YET OLSUN!</span>
                        </div>
                    `;
                    
                    playAlarm();
                    stopTimerBtn.innerHTML = '<i class="fa-solid fa-check mr-2"></i> Kapat';
                    return;
                }
                totalSeconds--; 
                timerDisplay.textContent = formatTime(totalSeconds);
            }

            function stopTimer() {
                clearInterval(timerInterval);
                timerInterval = null;
                startTimerBtn.classList.remove("hidden");
                stopTimerBtn.classList.add("hidden");
                stopTimerBtn.innerHTML = '<i class="fa-solid fa-rotate-left mr-2"></i> SÄ±fÄ±rla';
                
                timerDisplay.className = "text-5xl font-mono font-bold text-white relative z-10 tracking-wider mb-6 tabular-nums transition-all duration-300";
                timerDisplay.innerHTML = "";
                
                const secilenTip = pisirmeTipiSelect.value;
                const secilenKategori = kategoriSelect.value;
                const secilenUrun = urunSelect.value;
                const secilenHazirlik = hazirlikSelect.value;

                if (secilenTip && secilenKategori && secilenUrun && secilenHazirlik) {
                    const sonuc = pisirmeVerisi[secilenTip][secilenKategori][secilenUrun][secilenHazirlik];
                    totalSeconds = parseTimeToSeconds(sonuc.sure);
                    timerDisplay.textContent = formatTime(totalSeconds);
                } else {
                    timerDisplay.textContent = "00:00";
                }
            }

            function parseTimeToSeconds(timeString) {
                const match = timeString.match(/(\d+)/); 
                if (match) {
                    return parseInt(match[1], 10) * 60; 
                }
                return 0;
            }

            function formatTime(seconds) {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }
            
            function playAlarm() {
                if (!audioCtx) return;

                const duration = 5; 
                const startTime = audioCtx.currentTime;
                const endTime = startTime + duration;
                
                const oscillator = audioCtx.createOscillator();
                const gainNode = audioCtx.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioCtx.destination);
                
                oscillator.type = 'square'; 
                oscillator.frequency.setValueAtTime(900, startTime);

                const volume = 0.2;
                
                for (let i = 0; i < duration * 2; i++) { 
                    let time = startTime + i * 0.5;
                    gainNode.gain.setValueAtTime(volume, time);
                    gainNode.gain.setValueAtTime(0, time + 0.2); 
                }
                
                gainNode.gain.setValueAtTime(0, endTime);
                
                oscillator.start(startTime);
                oscillator.stop(endTime);
            }

            function resetSelect(selectElement, defaultText) {
                selectElement.innerHTML = "";
                const defaultOption = document.createElement("option");
                defaultOption.value = "";
                defaultOption.textContent = defaultText;
                selectElement.appendChild(defaultOption);
                selectElement.disabled = true;
            }
        });
    </script>
</body>
</html>
